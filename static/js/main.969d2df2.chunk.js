(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(8),r=c.n(n),i=c(6),l=c(11),o=c(4),j=c(2),d=c(1),p=function(e){var t=e.onClose,c=e.player,s=Object(j.f)(),a=function(){s("/"),t()};return r.a.createPortal(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{style:{position:"absolute",top:"0",width:"100vw",height:"100vh"},onKeyPress:function(){return a()},onClick:function(){return a()}}),Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"description",children:[Object(d.jsxs)("div",{className:"description__player-wrapper",children:[Object(d.jsx)("img",{className:"description__avatar",src:c.avatar,alt:"player's avatar"}),Object(d.jsx)("div",{className:"description__name",children:c.name}),Object(d.jsxs)("div",{className:"description__score",children:["Score: ",c.score]}),Object(d.jsx)("div",{className:"description__bio",children:c.bio})]}),Object(d.jsx)("button",{className:"description__button",onKeyPress:function(){return a()},onClick:function(){return a()},children:"Close"})]})})})]}),document.getElementById("portal"))},u=c(9),b=c.n(u);c(17);function m(){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"EmptyplayersList",children:[Object(d.jsx)("div",{className:"EmptyplayersList--empty",children:"no players available"}),Object(d.jsx)("div",{className:"EmptyplayersList__loadIcon rotate-center"})]})})}var O=function(e){var t=e.onSelect,c=e.players,a=Object(s.useState)("Score"),n=Object(o.a)(a,2),r=n[0],l=n[1],j=Object(s.useState)(),p=Object(o.a)(j,2),u=p[0],m=p[1],O=Object(s.useState)(!1),h=Object(o.a)(O,2),y=h[0],v=h[1];Object(s.useEffect)((function(){var e=c.sort((function(e,t){return t.score-e.score}));e[0].name!==(null===u||void 0===u?void 0:u.name)&&m(e[0])}),[c]),Object(s.useEffect)((function(){v(!0),setTimeout((function(){v(!1)}),1e3)}),[u]);return Object(d.jsxs)("div",{className:"playersList",children:[Object(d.jsxs)("div",{className:"playersList__header",children:[Object(d.jsx)("div",{className:"playersList__header-name",children:"Player's name"}),Object(d.jsxs)("select",{className:"playersList__header-select",name:"Sort by",value:r,onChange:function(e){l(e.target.value)},children:[Object(d.jsx)("option",{value:"Score",selected:!0,children:"Score"}),Object(d.jsx)("option",{value:"Name",children:"Name"})]})]}),("Score"===r?c.sort((function(e,t){return t.score-e.score})):c.sort((function(e,t){return e.name.localeCompare(t.name)}))).map((function(e,s){return Object(d.jsx)(i.b,{style:{textDecoration:"none"},to:"/player/".concat(e.name.split(" ").join("_")),children:Object(d.jsxs)("div",{onClick:function(){t(e)},className:b()("playersList__Player",{"playersList__Player--highlighted":y&&0===s},{"playersList__Player--highlighted--first":1===c.length}),children:[Object(d.jsxs)("div",{className:"playersList__Player-ava-name",children:[Object(d.jsx)("img",{className:"playersList__Player-avatar",src:e.avatar,alt:"player's avatar"}),Object(d.jsx)("div",{className:"playersList__Player-name",children:e.name})]}),Object(d.jsx)("div",{className:"playersList__Player-score",children:e.score})]},e.name)})}))]})},h=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(),r=Object(o.a)(n,2),i=r[0],u=r[1];Object(s.useEffect)((function(){var e=window.localStorage.getItem("players");a((function(t){return JSON.parse(e||JSON.stringify(t))}))}),[]),Object(s.useEffect)((function(){window.localStorage.setItem("players",JSON.stringify(c))}),[c]),Object(s.useEffect)((function(){new EventSource("http://localhost:5000").onmessage=function(e){a((function(t){return[].concat(Object(l.a)(t),[JSON.parse(e.data)])}))}}),[]);return Object(d.jsx)("div",{className:b()("wrapper",{"wrapper-blured":i}),children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"App__h1",children:"Score board"}),c.length?Object(d.jsx)(O,{onSelect:function(e){u(e)},players:c}):Object(d.jsx)(m,{}),i&&Object(d.jsx)(j.c,{children:Object(d.jsx)(j.a,{path:"/player/".concat(null===i||void 0===i?void 0:i.name.split(" ").join("_")),element:Object(d.jsx)(p,{onClose:function(){u(null)},player:i})})})]})})})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(h,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.969d2df2.chunk.js.map