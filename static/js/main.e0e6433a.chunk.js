(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),r=a(7),n=a.n(r),l=a(8),i=a(11),o=a(4),j=a(1),d=function(e){var t=e.player;return n.a.createPortal(Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"description",children:[Object(j.jsx)("div",{children:t.name}),Object(j.jsx)("div",{children:t.avatar}),Object(j.jsx)("div",{children:t.score})]})}),document.getElementById("portal"))};a(17);function b(){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"EmptyplayersList",children:[Object(j.jsx)("div",{className:"EmptyplayersList--empty",children:"no players available"}),Object(j.jsx)("div",{className:"EmptyplayersList__loadIcon rotate-center"})]})})}var p=a(10),u=a.n(p),O=function(e){var t=e.onSelect,a=e.players,s=Object(c.useState)("Score"),r=Object(o.a)(s,2),n=r[0],i=r[1],d=Object(c.useState)(),b=Object(o.a)(d,2),p=b[0],O=b[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),y=h[0],v=h[1];Object(c.useEffect)((function(){var e=a.sort((function(e,t){return t.score-e.score}));e[0].name!==(null===p||void 0===p?void 0:p.name)&&O(e[0])}),[a]),Object(c.useEffect)((function(){v(!0),setTimeout((function(){v(!1)}),1e3)}),[p]);return Object(j.jsxs)("div",{className:"playersList",children:[Object(j.jsxs)("div",{className:"playersList__header",children:[Object(j.jsx)("div",{className:"playersList__header-name",children:"Player's name"}),Object(j.jsxs)("select",{className:"playersList__header-select",name:"Sort by",value:n,onChange:function(e){i(e.target.value)},children:[Object(j.jsx)("option",{value:"Score",selected:!0,children:"Score"}),Object(j.jsx)("option",{value:"Name",children:"Name"})]})]}),("Score"===n?a.sort((function(e,t){return t.score-e.score})):a.sort((function(e,t){return e.name.localeCompare(t.name)}))).map((function(e,c){return Object(j.jsx)(l.b,{style:{textDecoration:"none"},to:"/player/".concat(e.name),children:Object(j.jsxs)("div",{onClick:function(){t(e)},className:u()("playersList__Player",{"playersList__Player--highlighted":y&&0===c},{"playersList__Player--highlighted--first":1===a.length}),children:[Object(j.jsxs)("div",{className:"playersList__Player-ava-name",children:[Object(j.jsx)("img",{className:"playersList__Player-avatar",src:e.avatar,alt:"player's avatar"}),Object(j.jsx)("div",{className:"playersList__Player-name",children:e.name})]}),Object(j.jsx)("div",{className:"playersList__Player-score",children:e.score})]},e.name)})}))]})},m=a(2),h=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(),n=Object(o.a)(r,2),l=n[0],p=n[1];Object(c.useEffect)((function(){var e=window.localStorage.getItem("players");s((function(t){return JSON.parse(e||JSON.stringify(t))}))}),[]),Object(c.useEffect)((function(){window.localStorage.setItem("players",JSON.stringify(a))}),[a]),Object(c.useEffect)((function(){new EventSource("http://localhost:5000").onmessage=function(e){s((function(t){return[].concat(Object(i.a)(t),[JSON.parse(e.data)])}))}}),[]);return Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"App__h1",children:"Score board"}),a.length?Object(j.jsx)(O,{onSelect:function(e){p(e)},players:a}):Object(j.jsx)(b,{}),l&&Object(j.jsx)(m.c,{children:Object(j.jsx)(m.a,{path:"/player/".concat(l.name),element:Object(j.jsx)(d,{player:l})})})]})})})};n.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(h,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e0e6433a.chunk.js.map