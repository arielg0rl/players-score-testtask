(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),r=a(5),n=a.n(r),l=a(4),i=a(15),o=a(2),j=(a(20),a(1));function d(){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"EmptyplayersList",children:[Object(j.jsx)("div",{className:"EmptyplayersList--empty",children:"no players available"}),Object(j.jsx)("div",{className:"EmptyplayersList__loadIcon rotate-center"})]})})}var b=a(13),u=a.n(b),O=function(e){var t=e.player;return n.a.createPortal(t&&Object(j.jsx)(l.b,{to:t?"/player/".concat(t.name):"/",children:Object(j.jsxs)("div",{className:"description",children:[Object(j.jsx)("div",{children:t.name}),Object(j.jsx)("div",{children:t.avatar}),Object(j.jsx)("div",{children:t.score})]})}),document.getElementById("portal"))},p=a(14),m=a.n(p),h=function(e){var t=e.players,a=Object(c.useState)("Score"),s=Object(o.a)(a,2),r=s[0],n=s[1],i=Object(c.useState)(),d=Object(o.a)(i,2),b=d[0],p=d[1],h=Object(c.useState)(!1),y=Object(o.a)(h,2),v=y[0],f=y[1],x=Object(c.useState)(!1),N=Object(o.a)(x,2),_=N[0],S=N[1],g=Object(c.useState)(),L=Object(o.a)(g,2),E=L[0],w=L[1];Object(c.useEffect)((function(){var e=t.sort((function(e,t){return e.score-t.score}));e[0].name!==(null===b||void 0===b?void 0:b.name)&&p(e[0])}),[t]),Object(c.useEffect)((function(){f(!0),setTimeout((function(){f(!1)}),1e3)}),[b]);return Object(j.jsxs)("div",{className:"playersList",children:[Object(j.jsxs)("div",{className:"playersList__header",children:[Object(j.jsx)("div",{className:"playersList__header-name",children:"Player's name"}),Object(j.jsxs)("select",{className:"playersList__header-select",name:"Sort by",value:r,onChange:function(e){n(e.target.value)},children:[Object(j.jsx)("option",{value:"Score",selected:!0,children:"Score"}),Object(j.jsx)("option",{value:"Name",children:"Name"})]})]}),("Score"===r?t.sort((function(e,t){return t.score-e.score})):t.sort((function(e,t){return e.name.localeCompare(t.name)}))).map((function(e,t){return Object(j.jsx)(l.b,{style:{textDecoration:"none"},to:"/player/".concat(e.name),children:Object(j.jsxs)("div",{onClick:function(){S(!0),w(e)},className:u()("playersList__Player",{"playersList__Player--highlighted":v&&0===t}),children:[Object(j.jsxs)("div",{className:"playersList__Player-ava-name",children:[Object(j.jsx)("img",{className:"playersList__Player-avatar",src:e.avatar,alt:"player's avatar"}),Object(j.jsx)("div",{className:"playersList__Player-name",children:e.name})]}),Object(j.jsx)("div",{className:"playersList__Player-score",children:e.score})]},e.name)})})),_&&Object(j.jsx)(m.a,{children:Object(j.jsx)(O,{player:E||null})})]})},y=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return console.log(a.length),Object(c.useEffect)((function(){var e=window.localStorage.getItem("players");s((function(t){return JSON.parse(e||JSON.stringify(t))}))}),[]),Object(c.useEffect)((function(){window.localStorage.setItem("players",JSON.stringify(a))}),[a]),Object(c.useEffect)((function(){new EventSource("http://localhost:5000").onmessage=function(e){s((function(t){return[].concat(Object(i.a)(t),[JSON.parse(e.data)])}))}}),[]),Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"App__h1",children:"Score board"}),a.length?Object(j.jsx)(h,{players:a}):Object(j.jsx)(d,{})]})})})};n.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(y,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7a7ee435.chunk.js.map